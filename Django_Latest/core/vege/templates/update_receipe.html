{% extends 'base.html' %}

{% block title %}
  Update Receipes
{% endblock %}

{% block content %}
  <div class="container">
    <form class="col-6 mx-auto card p-3 shadow-lg" method="post" enctype="multipart/form-data">
      {% csrf_token %}
      <div class="mb-3">
        <h1>Update Receipe</h1>
        <hr />
      </div>
      <div class="mb-3">
        <label for="receipe_name" class="form-label">Receipe Name</label>
        <input name="receipe_name" value="{{ receipe.receipe_name }}" type="text" class="form-control" id="receipe_name" />
      </div>
      <div class="mb-3">
        <label for="receipe_desc" class="form-label">Receipe Description</label>
        <textarea name="receipe_desc" class="form-control" id="receipe_desc">{{ receipe.receipe_description }}</textarea>
      </div>
      <div class="mb-3">
        <label for="receipe_image" class="form-label">Receipe Image</label>
        <input name="receipe_image" value="{{ receipe.receipe_image }}" type="file" class="form-control" id="receipe_image" />
      </div>
      <button type="submit" class="btn btn-success">Update Receipe</button>
    </form>
  </div>

  <div class="container">
    <div class="row">
      <div class="col-10 mx-auto">
        <table class="table table-striped table-dark">
          <thead>
            <tr>
              <th>#</th>
              <th>Receipe Name</th>
              <th>Receipe Description</th>
              <th>Receipe Image</th>
              <th>Actions</th>
            </tr>
          </thead>
          <tbody>
            {% for receipe in receipes %}
              <tr>
                <td>{{ forloop.counter }}</td>
                <td>{{ receipe.receipe_name }}</td>
                <td>{{ receipe.receipe_description }}</td>
                <td>
                  <img src="/media/{{ receipe.receipe_image }}" height="150" width="200" alt="" />
                </td>
                <td>
                  <a href="/delete_receipe/{{ receipe.id }}" class="btn btn-danger">Delete</a>
                  <a href="/update_receipe/{{ receipe.id }}" class="btn btn-success">Update</a>
                </td>
              </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
    </div>
  </div>
{% endblock %}
